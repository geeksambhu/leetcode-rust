# 有趣的一些算法题

## 扔鸡蛋——测试鸡蛋的最高耐摔楼层

假设鸡蛋的楼层高度为k，请问需要几个鸡蛋才能测出鸡蛋的最高耐摔楼层

为什么不能用二分？

如果在k/2的楼层中鸡蛋破了，你不确定应该取\[0,k/2]还是\[k/2,k]的区间

如果在k/2的楼层中鸡蛋没破，才能确定取\[k/2,k]

均匀划分楼层

此题属于小智商题，第一次划分区间不能用二分，要以1+2+3+...>=k的方式划分

只有这样划分，才能保证无论鸡蛋在哪个区间内碎了，找出碎的楼层的最坏尝试次数都一样

有点像暴力遍历O(n)和二分查找O(log(n))两种时间复杂度"的平均"

例如10层楼的高度，最多需要4个鸡蛋才能测出鸡蛋的最高耐摔楼层

等差数列求和公式：n(n+1)/2 = k，时间复杂度是根号n左右

```java
import java.lang.Math; 

public class Solution {
    // failed case 2147483647(overflow)
    public int dropEggs(int n) {
        // 0.5d为了让结果四舍五入，应对(100,14)的测试用例
        // 主要用到了求根公式 
        return (int)((-1d+Math.sqrt(1+8*n))/2d + 0.5d);
    }
}
```

Java做这题用求根公式不能防止溢出，用BigDecimal类型的话只有Java9以上才支持开根号

```python
import math
n = 10
assert(math.ceil((-1+math.sqrt(1+8*n))/2), 4)
```

动态规划解决三类问题：找最值、求方案数、文可行性

如果题目设计体积之和的概念，可以用背包类动态规划

----

插入排序
选择排序
归并排序
快速排序
Comparator的使用

----

## 哪些数据结构可以快速求出子区间内的最值？

答案：ST表或线段树

普通数组需要O(n)复杂度求最值，而堆只能快速求出总体最值，不能求某个区间内的最值

万能的数据结构——SegmentTree

Java/Python/C++都没有自带，需要自己实现

该数据结构利用了类似Merge Sort的分治思想，可以在logN的时间内做到所有堆、红黑树、树状数组、块状链表做的事情，还额外支持区块查询
